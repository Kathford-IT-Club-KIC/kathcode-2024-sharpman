<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="/style.css">
</head>

<body>
  <header>
    <h1>Fire Aid Nepal</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="../forestFDataFolder/forestFireData.html">Forest Fire Data</a>
      <a href="../mostimpacted/index.html">Most Impacted District</a>
      <a href="../Registration/login.html" id="logout">Login</a>
      <a href="../Registration/registration.html">Register</a>
    </nav>
  </header>
  <main>
    <section class="fire-news">
      <h2>Recent Fire News</h2>
      <div class="slider" id="newsSlider">
        <div class="slides" id="slidesContainer">
          <!--Slides haru yaha dekhaune-->
        </div>
      </div>
    </section>
    <section class="create-post">
      <h2>Create a Post</h2>
      <form id="postForm">
        <label for="title">Title:</label>
        <input type="text" id="title" name="title" required />
        <label for="details">Details:</label>
        <textarea id="details" name="details" required></textarea>
        <button type="submit">Submit</button>
      </form>
    </section>
    <h2 class="htwo">Help Posts</h2>
    <div id="postsContainer">

    </div>

    <section class="posts">
      <div class="post">
        <h3>Fire at XYZ</h3>
        <p>Details about the fire...</p>
        <button class="like-btn">Like</button>
        <button class="comment-btn">Comment (<span class="comment-count">0</span>)</button>
        <button class="donate-btn">Donate</button>
      </div>
    </section>

    <script type="text/javascript">
      document.addEventListener('DOMContentLoaded', () => {
        const sliderContainer = document.getElementById('slidesContainer');
        fetch('news.txt')
          .then(response => {
            if (!response.ok) {
              throw new Error('Network response was not ok');
            }
            return response.text();
          })
          .then(data => {
            const lines = data.split('\n').map(line => line.trim()).filter(line => line.length > 0);
            if (lines.length === 0) {
              console.error('No headlines found in news.txt');
              return;
            }
            lines.forEach(line => {
              const slide = document.createElement('div');
              slide.className = 'slide';
              slide.textContent = line;
              sliderContainer.appendChild(slide);
            });
            startSlider();
          })
          .catch(error => {
            console.error('Error fetching news:', error);
          });
      });

      function startSlider() {
        const slides = document.getElementById('slidesContainer');
        let index = 0;
        setInterval(() => {
          index = (index + 1) % 3; // 3 slides xa vanera assume gareko
          slides.style.transform = `translateX(-${index * 33.333}%)`;
        }, 3000);
      }
      document.addEventListener('DOMContentLoaded', function () {
        const logout = document.getElementById("logout")
        const loggedIn = localStorage.getItem("loggedIn");
        if (loggedIn === "true") {
          logout.textContent = "Log Out";
          logout.href = "../Registration/login.html";

        } else {
          logout.textContent = "Log In";
          logout.href = "../Registration/login.html";

        }
      });
    </script>